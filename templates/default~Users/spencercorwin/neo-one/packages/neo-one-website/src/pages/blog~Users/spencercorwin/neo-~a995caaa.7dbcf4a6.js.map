{"version":3,"sources":["webpack:///Helmet.tsx","webpack:////Users/spencercorwin/neo-one/packages/neo-one-react-core/dist/esm/ButtonBase.js","webpack:////Users/spencercorwin/neo-one/packages/neo-one-website/static/css/prism.css?e2e8","webpack:////Users/spencercorwin/neo-one/packages/neo-one-website/static/css/prism.css","webpack:////Users/spencercorwin/neo-one/packages/neo-one-react-core/dist/esm/tools.js","webpack:///PrismSetup.ts","webpack:///markdownTOC.ts","webpack:///Markdown.tsx"],"names":["Helmet","title","description","children","props","meta","name","content","itemprop","property","concat","undefined","ButtonBase","withComponent","module","i","options","transform","locals","exports","push","prop","ifProp","switchProp","window","_WorkerGlobalScope","WorkerGlobalScope","self","Prism","languages","typescript","extend","keyword","keywordBlue","builtin","ts","util","clone","tsx","PrismSetup","defaults","includeLevel","containerClass","slugify","s","encodeURIComponent","String","trim","toLowerCase","replace","markerPattern","listType","format","forceFullToc","subTOC","containerHeaderHtml","containerFooterHtml","markdownTOC","md","o","Object","assign","tocRegexp","gstate","seen","open","body","close","renderChildsTokens","pos","tokens","currentLevel","subHeadings","headings","buffer","size","length","token","heading","level","tag","parseInt","substr","type","indexOf","join","renderer","rules","tocOpenHtml","tocFooterHtml","tocBody","tokenLength","tocHierarchy","result","core","ruler","state","inline","after","silent","match","src","charCodeAt","exec","filter","m","markup","newline","posMax","createMD","withAnchors","set","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","highlight","text","lang","classAttribute","utils","escapeHtml","use","render","slice","idx","a","mdWithoutAnchors","mdWithAnchors","headerMargins","stretchCSS","Wrapper","light","theme","gray1","black","primary","accent","gray","ref","this","handleUpdate","resetScroll","scrollTo","prevProps","source","linkColor","anchors","dangerouslySetInnerHTML","__html","current","highlightAllUnder","getElementsByTagName","openAllLinksInNewTab","host","location","target"],"mappings":"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","file":"templates/default~Users/spencercorwin/neo-one/packages/neo-one-website/src/pages/blog~Users/spencercorwin/neo-~a995caaa.7dbcf4a6.js","sourcesContent":["// tslint:disable no-null-keyword\nimport React from 'react';\nimport { Head } from 'react-static';\n\ninterface Props {\n  readonly title: string;\n  readonly description?: string;\n  readonly children?: React.ReactNode;\n}\n\nexport const Helmet = ({ title, description, children, ...props }: Props) => (\n  <Head\n    title={title}\n    {...props}\n    meta={[\n      { name: 'twitter:title', content: title },\n      // @ts-ignore\n      { itemprop: 'name', content: title },\n      { property: 'og:title', content: title },\n      // @ts-ignore\n      { itemprop: 'image', content: 'https://neo-one.io/social.png' },\n      { name: 'twitter:image:src', content: 'https://neo-one.io/social.png' },\n      { property: 'og:image', content: 'https://neo-one.io/social.png' },\n      { name: 'twitter:card', content: 'summary' },\n      { name: 'twitter:site', content: '@neo_one_suite' },\n      { property: 'og:url', content: 'https://neo-one.io' },\n      { property: 'og:site_name', content: 'NEOâ€¢ONE' },\n      { property: 'og:type', content: 'website' },\n    ].concat(\n      description === undefined\n        ? []\n        : [\n            { name: 'description', content: description },\n            // @ts-ignore\n            { itemprop: 'description', content: description },\n            { property: 'og:description', content: description },\n            { name: 'twitter:description', content: description },\n          ],\n    )}\n  >\n    {children}\n  </Head>\n);\n","import { Box } from './Box';\nexport const ButtonBase = Box.withComponent('button');\n\n//# sourceMappingURL=ButtonBase.js.map\n","\nvar content = require(\"!!../../../../common/temp/node_modules/css-loader/dist/cjs.js??ref--2-oneOf-3-1!../../../../common/temp/node_modules/postcss-loader/src/index.js??postcss!./prism.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../common/temp/node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../common/temp/node_modules/css-loader/dist/cjs.js??ref--2-oneOf-3-1!../../../../common/temp/node_modules/postcss-loader/src/index.js??postcss!./prism.css\", function() {\n\t\tvar newContent = require(\"!!../../../../common/temp/node_modules/css-loader/dist/cjs.js??ref--2-oneOf-3-1!../../../../common/temp/node_modules/postcss-loader/src/index.js??postcss!./prism.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../common/temp/node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"code[class*=language-],pre[class*=language-]{color:#9cdcfe;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0}pre[class*=language-]{padding:1em 24px;margin:.5em -24px;overflow:auto;border-radius:10px}:not(pre)>code[class*=language-],pre[class*=language-]{background:#322b3d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#608b4e}.token.punctuation{color:#ccc}.token.deleted,.token.namespace,.token.tag{color:#4ec9b0}.token.attr-name{color:#9cdcfe}.token.function-name{color:#6196cc}.token.boolean,.token.keywordBlue{color:#569cd6}.token.number{color:#b5cea8}.token.function{color:#dcdcaa}.token.constant,.token.property,.token.symbol{color:#f8c555}.token.builtin,.token.class-name{color:#4ec9b0}.token.atrule,.token.important,.token.keyword,.token.selector{color:#c586c0}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#ce9169}.token.operator{color:#d4d4d4}.token.entity,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}\", \"\"]);\n\n","import { ifProp as ifPropInternal, prop as propInternal, switchProp as switchPropInternal, withProp as withPropInternal, } from 'styled-tools';\nexport const prop = propInternal;\nexport const ifProp = ifPropInternal;\nexport const switchProp = switchPropInternal;\nexport const withProp = withPropInternal;\n\n//# sourceMappingURL=tools.js.map\n","// tslint:disable\nimport '../../static/css/prism.css';\nif (typeof window !== 'undefined') {\n  require('clipboard');\n}\n// @ts-ignore\nimport Prism from 'prismjs/components/prism-core';\n// @ts-ignore\nconst _WorkerGlobalScope = typeof WorkerGlobalScope === 'undefined' ? undefined : WorkerGlobalScope;\n// tslint:disable-next-line no-any\nconst _self: any =\n  typeof window !== 'undefined'\n    ? window // if in browser\n    : // @ts-ignore\n    _WorkerGlobalScope !== undefined && self instanceof _WorkerGlobalScope\n    ? self // if in worker\n    : {}; // if in node js\n_self.Prism = Prism;\nimport 'prismjs/plugins/toolbar/prism-toolbar.css';\nimport 'prismjs/plugins/toolbar/prism-toolbar';\nif (typeof window !== 'undefined') {\n  require('prismjs/plugins/copy-to-clipboard/prism-copy-to-clipboard');\n}\n// @ts-ignore\nimport 'prismjs/components/prism-clike';\n// @ts-ignore\nimport 'prismjs/components/prism-javascript';\n// @ts-ignore\nimport 'prismjs/components/prism-markup';\n// @ts-ignore\nimport 'prismjs/components/prism-jsx';\nimport './prismBash';\n\nPrism.languages.typescript = Prism.languages.extend('javascript', {\n  // From JavaScript Prism keyword list and TypeScript language spec: https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#221-reserved-words\n  keyword: /\\b(?:as|await|break|case|catch|continue|debugger|default|do|else|export|finally|for|from|if|import|in|instanceof|of|return|switch|throw|try|while|with|yield|require)\\b/,\n  keywordBlue: /\\b(?:async|class|const|delete|enum|extends|function|get|implements|interface|let|new|package|private|protected|public|set|static|super|this|typeof|var|module|declare|constructor|namespace|abstract|type|readonly)\\b/,\n  builtin: /\\b(?:string|Function|any|number|boolean|Array|symbol|console|void|null)\\b/,\n});\nPrism.languages.ts = Prism.languages.typescript;\nconst typescript = Prism.util.clone(Prism.languages.typescript);\nPrism.languages.tsx = Prism.languages.extend('jsx', typescript);\n// tslint:enable\n\nexport const PrismSetup = Prism;\n","// tslint:disable\n\nconst slugify = (s: any) => encodeURIComponent(String(s).trim().toLowerCase().replace(/\\s+/g, '-'));\nconst defaults = {\n  includeLevel: [1, 2],\n  containerClass: 'table-of-contents',\n  slugify,\n  markerPattern: /^\\[\\[toc\\]\\]/im,\n  listType: 'ul',\n  format: undefined,\n  forceFullToc: false,\n  subTOC: false,\n  containerHeaderHtml: undefined,\n  containerFooterHtml: undefined,\n  name: 'toc',\n};\n\nexport const markdownTOC = (md: any, o: any) => {\n  const options = Object.assign({}, defaults, o);\n  const name = options.name;\n  const tocRegexp = options.markerPattern;\n  let gstate: any;\n  let seen = 0;\n\n  const open = `${name}_open`;\n  const body = `${name}_body`;\n  const close = `${name}_close`;\n\n  function toc(state: any, silent: any) {\n    var token;\n    var match;\n\n    // Reject if the token does not start with [\n    if (state.src.charCodeAt(state.pos) !== 0x5b /* [ */) {\n      return false;\n    }\n    // Don't run any pairs in validation mode\n    if (silent) {\n      return false;\n    }\n\n    // Detect TOC markdown\n    match = tocRegexp.exec(state.src.substr(state.pos));\n    match = !match\n      ? []\n      : match.filter(function (m: any) {\n          return m;\n        });\n    if (match.length < 1) {\n      return false;\n    }\n\n    gstate = undefined;\n    seen = 0;\n\n    // Build content\n    token = state.push(open, 'toc', 1);\n    token.markup = '[[toc]]';\n    token = state.push(body, '', 0);\n    token = state.push(close, 'toc', -1);\n\n    // Update pos so the parser can continue\n    var newline = state.src.indexOf('\\n', state.pos);\n    if (newline !== -1) {\n      state.pos = newline;\n    } else {\n      state.pos = state.pos + state.posMax + 1;\n    }\n\n    return true;\n  }\n\n  md.renderer.rules[open] = function () {\n    var tocOpenHtml = `<div class=\"${options.containerClass}\">`;\n\n    if (options.containerHeaderHtml) {\n      tocOpenHtml += options.containerHeaderHtml;\n    }\n\n    return tocOpenHtml;\n  };\n\n  md.renderer.rules[close] = function () {\n    var tocFooterHtml = '';\n\n    if (options.containerFooterHtml) {\n      tocFooterHtml = options.containerFooterHtml;\n    }\n\n    return tocFooterHtml + `</div>`;\n  };\n\n  md.renderer.rules[body] = function () {\n    if (options.forceFullToc) {\n      /*\n\n      Renders full TOC even if the hierarchy of headers contains\n      a header greater than the first appearing header\n\n      ## heading 2\n      ### heading 3\n      # heading 1\n\n      Result TOC:\n      - heading 2\n         - heading 3\n      - heading 1\n\n      */\n      var tocBody = '';\n      var pos = 0;\n      var tokenLength = gstate && gstate.tokens && gstate.tokens.length;\n\n      while (pos < tokenLength) {\n        var tocHierarchy = renderChildsTokens(pos, gstate.tokens);\n        pos = tocHierarchy[0];\n        tocBody += tocHierarchy[1];\n      }\n\n      return tocBody;\n    } else {\n      const result = renderChildsTokens(seen, gstate.tokens);\n      seen = result[0] + 1;\n      return result[1];\n    }\n  };\n\n  function renderChildsTokens(pos: any, tokens: any) {\n    var headings = [],\n      buffer = '',\n      currentLevel,\n      subHeadings,\n      size = tokens.length,\n      i = pos;\n    while (i < size) {\n      var token = tokens[i];\n      var heading = tokens[i - 1];\n      var level = token.tag && parseInt(token.tag.substr(1, 1));\n      if (\n        token.type === 'heading_close' &&\n        options.includeLevel.indexOf(level) == -1 &&\n        currentLevel !== undefined &&\n        options.subTOC\n      ) {\n        break;\n      }\n      if (token.type !== 'heading_close' || options.includeLevel.indexOf(level) == -1 || heading.type !== 'inline') {\n        i++;\n        continue; // Skip if not matching criteria\n      }\n      if (!currentLevel) {\n        currentLevel = level; // We init with the first found level\n      } else {\n        if (level > currentLevel) {\n          subHeadings = renderChildsTokens(i, tokens);\n          buffer += subHeadings[1];\n          i = subHeadings[0];\n          continue;\n        }\n        if (level < currentLevel) {\n          // Finishing the sub headings\n          buffer += `</li>`;\n          headings.push(buffer);\n          return [i, `<${options.listType}>${headings.join('')}</${options.listType}>`];\n        }\n        if (level == currentLevel) {\n          // Finishing the sub headings\n          buffer += `</li>`;\n          headings.push(buffer);\n        }\n      }\n      buffer = `<li><a href=\"#${options.slugify(heading.content)}\">`;\n      buffer += typeof options.format === 'function' ? options.format(heading.content) : heading.content;\n      buffer += `</a>`;\n      i++;\n    }\n    buffer += buffer === '' ? '' : `</li>`;\n    headings.push(buffer);\n    return [i, `<${options.listType}>${headings.join('')}</${options.listType}>`];\n  }\n\n  // Catch all the tokens for iteration later\n  md.core.ruler.push('grab_state', function (state: any) {\n    if (gstate === undefined) {\n      gstate = state;\n    }\n  });\n\n  // Insert TOC\n  md.inline.ruler.after('emphasis', 'toc', toc);\n};\n","import { css } from '@emotion/core';\nimport styled from '@emotion/styled';\nimport { prop, switchProp, theme } from '@neo-one/react-common';\nimport MarkdownIt from 'markdown-it';\n// @ts-ignore\n// tslint:disable-next-line: no-submodule-imports\nimport anchor from 'markdown-it-anchor/dist/markdownItAnchor.js';\n// @ts-ignore\nimport container from 'markdown-it-container';\nimport * as React from 'react';\nimport slugify from 'slugify';\nimport { Prism } from '../common';\nimport { markdownTOC } from './markdownTOC';\n\nconst langPrefix = 'language-';\n\nconst createMD = ({ withAnchors }: { readonly withAnchors: boolean }) => {\n  const md = MarkdownIt();\n  md.set({\n    html: false,\n    xhtmlOut: false,\n    breaks: false,\n    langPrefix,\n    linkify: true,\n    typographer: true,\n    quotes: `\"\"''`,\n    highlight: (text, lang) => {\n      const code = md.utils.escapeHtml(text);\n      const classAttribute = lang ? ` class=\"${langPrefix}${lang}\"` : '';\n\n      return `<pre${classAttribute}><code${classAttribute}>${code}</code></pre>`;\n    },\n  })\n    .use(markdownTOC, {\n      slugify,\n      includeLevel: [2],\n      name: 'toc',\n    })\n    .use(markdownTOC, {\n      slugify,\n      markerPattern: /^\\[\\[toc-reference\\]\\]/im,\n      format: (content: string) => md.render(content).slice(3, -5),\n      includeLevel: [4, 5],\n      name: 'toc_reference',\n      subTOC: true,\n    })\n    .use(container, 'warning', {\n      // tslint:disable-next-line:no-any\n      render: (tokens: any, idx: any) => {\n        if (tokens[idx].type === 'container_warning_open') {\n          return '<blockquote class=\"warning\">';\n        }\n\n        return '</blockquote>\\n';\n      },\n    });\n\n  if (withAnchors) {\n    md.use(anchor, {\n      slugify,\n      level: [2, 3, 4, 5],\n    });\n  }\n\n  return md;\n};\n\nconst mdWithoutAnchors = createMD({ withAnchors: false });\nconst mdWithAnchors = createMD({ withAnchors: true });\n\nconst headerMargins = css`\n  margin-top: 32px;\n  margin-bottom: 24px;\n`;\n\n// tslint:disable-next-line no-any\nconst lightCode: any = (props: { readonly theme: typeof theme; readonly light: boolean }) => {\n  if (props.light) {\n    return css`\n      background-color: ${props.theme.gray1};\n      color: ${props.theme.black};\n      padding: 4px;\n      border-radius: 4px;\n    `;\n  }\n\n  return '';\n};\n\nconst stretchCSS = css`\n  margin-left: -24px;\n  margin-right: -24px;\n`;\n\nconst Wrapper = styled.div<{ readonly linkColor: 'primary' | 'gray' | 'accent'; readonly light: boolean }>`\n  ${prop('theme.fontStyles.subheading')};\n  ${prop('theme.fonts.axiformaThin')};\n  overflow-wrap: break-word;\n\n  & h1 {\n    ${prop('theme.fontStyles.display2')};\n    margin-top: 16px;\n    margin-bottom: 24px;\n  }\n\n  & h2 {\n    ${prop('theme.fontStyles.display1')};\n    ${headerMargins};\n  }\n\n  & h3 {\n    ${prop('theme.fontStyles.headline')};\n    ${headerMargins};\n  }\n\n  & h4 {\n    ${prop('theme.fontStyles.subheading')};\n    ${headerMargins};\n  }\n\n  & h5 {\n    ${prop('theme.fontStyles.subheading')};\n    ${headerMargins};\n  }\n\n  & h6 {\n    ${prop('theme.fontStyles.body2')};\n    ${headerMargins};\n  }\n\n  & p {\n    margin-bottom: 16px;\n    margin-top: 16px;\n  }\n\n  & code {\n    ${lightCode};\n    ${prop('theme.fontStyles.subheading')};\n    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;\n    white-space: nowrap;\n  }\n\n  & pre > code {\n    color: inherit;\n    background-color: inherit;\n    white-space: pre;\n  }\n\n  & a {\n    /* stylelint-disable-next-line */\n    color: ${switchProp('linkColor', {\n      primary: prop('theme.primary'),\n      accent: prop('theme.accent'),\n      gray: prop('theme.gray6'),\n    })};\n    ${prop('theme.fonts.axiformaBold')};\n    ${prop('theme.fontStyles.subheading')};\n    text-decoration: none;\n  }\n\n  & a code {\n    /* stylelint-disable-next-line */\n    color: ${switchProp('linkColor', {\n      primary: prop('theme.primary'),\n      accent: prop('theme.accent'),\n      gray: prop('theme.gray6'),\n    })};\n  }\n\n  & a:hover {\n    color: ${prop('theme.primaryDark')};\n    text-decoration: none;\n  }\n\n  & a:hover code {\n    color: ${prop('theme.primaryDark')};\n  }\n\n  & a:focus {\n    color: ${prop('theme.primaryDark')};\n    text-decoration: none;\n  }\n\n  & a:focus code {\n    color: ${prop('theme.primaryDark')};\n  }\n\n  & a:active {\n    color: ${prop('theme.primaryDark')};\n    text-decoration: none;\n  }\n\n  & a:active code {\n    color: ${prop('theme.primaryDark')};\n  }\n\n  & hr {\n    border-bottom: 1px solid rgba(255, 255, 255, 0.075);\n    margin-bottom: 8px;\n    margin-top: 32px;\n  }\n\n  & strong {\n    font-weight: ${prop('theme.fontStyles.axiformaMedium')};\n  }\n\n  & blockquote {\n    border-left: 5px solid rgba(255, 255, 255, 0.12);\n    margin-bottom: 16px;\n    margin-left: 0;\n    margin-right: 24px;\n    margin-top: 16px;\n    padding-left: 16px;\n  }\n\n  & ul {\n    margin-bottom: 8px;\n    margin-top: 8px;\n    padding-left: 24px;\n  }\n\n  & ol {\n    margin-bottom: 8px;\n    margin-top: 8px;\n    padding-left: 24px;\n  }\n\n  & li {\n    margin-top: 8px;\n  }\n\n  & pre {\n    margin-bottom: 16px;\n    margin-top: 16px;\n    white-space: pre-wrap;\n  }\n\n  & .header-anchor {\n    vertical-align: top;\n  }\n\n  & blockquote.warning {\n    background-color: rgba(255, 229, 100, 0.3);\n    border-left-color: #ffe564;\n    border-left-width: 8px;\n    border-left-style: solid;\n    padding: 16px 40px 16px 24px;\n    margin-bottom: 24px;\n    margin-top: 16px;\n    ${stretchCSS};\n  }\n\n  & blockquote.warning p {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n\n  & blockquote.warning p:first-of-type {\n    ${prop('theme.fonts.axiformaBold')};\n  }\n\n  &&&& img {\n    max-width: 100%;\n  }\n\n  &&&& p img {\n    max-width: 100%;\n  }\n`;\n\ninterface Props {\n  readonly source: string;\n  readonly linkColor?: 'primary' | 'gray' | 'accent';\n  readonly openAllLinksInNewTab?: boolean;\n  readonly light?: boolean;\n  readonly anchors?: boolean;\n  readonly resetScroll?: boolean;\n}\nexport class Markdown extends React.Component<Props> {\n  private readonly ref = React.createRef<HTMLDivElement>();\n\n  public componentDidMount(): void {\n    this.handleUpdate();\n    if (this.props.resetScroll) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  public componentDidUpdate(prevProps: Props): void {\n    this.handleUpdate();\n    if (this.props.resetScroll && this.props.source !== prevProps.source) {\n      window.scrollTo(0, 0);\n    }\n  }\n\n  public render() {\n    const { source, linkColor = 'primary', light = false, anchors = false, ...props } = this.props;\n\n    return (\n      <Wrapper\n        {...props}\n        linkColor={linkColor}\n        light={light}\n        ref={this.ref}\n        dangerouslySetInnerHTML={{ __html: anchors ? mdWithAnchors.render(source) : mdWithoutAnchors.render(source) }}\n      />\n    );\n  }\n\n  private handleUpdate(): void {\n    if (this.ref.current) {\n      Prism.highlightAllUnder(this.ref.current);\n\n      const anchors = this.ref.current.getElementsByTagName('a');\n      // tslint:disable-next-line no-loop-statement prefer-for-of\n      for (let i = 0; i < anchors.length; i += 1) {\n        const a = anchors[i];\n        if (this.props.openAllLinksInNewTab) {\n          // tslint:disable-next-line no-object-mutation\n          a.target = '_blank';\n        } else if (a.host !== window.location.host) {\n          // tslint:disable-next-line no-object-mutation\n          a.target = '_blank';\n        }\n      }\n    }\n  }\n}\n"],"sourceRoot":""}