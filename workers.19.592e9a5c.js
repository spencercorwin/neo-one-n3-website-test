self.webpackChunk([19],{14:function(t,e,n){"use strict";n.r(e);var i=n(102),s=n(1968);i.a.expose(s.a,self)},1968:function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));n(52);var i=n(253),s=n(372),a=n(210),r=n(254),o=n(328),c=n(73),g=n(22),l=n.n(g),p=n(1969);let S=0;const h=(t,e,n,r,o)=>{const g=new Map;t.changes$.pipe(Object(c.a)(t=>{g.set(t.id,"".concat(t.seq))})).subscribe();const p=r?e.concat([Object(i.c)("global.d.ts"),Object(i.c)("index.d.ts")]):e,h=Object.assign(Object.assign({},Object(s.a)(t)),{getNewLine:()=>"\n",useCaseSensitiveFileNames:()=>!0,getScriptFileNames:()=>[...p],getCurrentDirectory:()=>"/",getDefaultLibFileName:t=>{const e=l.a.getDefaultLibFilePath(t);return"/node_modules/typescript/lib/".concat(e.slice(2))},getCompilationSettings:()=>n,getScriptVersion:t=>{const e=Object(a.normalizePath)(t);if(o.has(e))return(()=>{const t=S;return S+=1,"".concat(t)})();const n=g.get(e);return void 0===n?"-1":n},getScriptSnapshot:e=>{try{const n=Object(a.normalizePath)(e);let i=o.get(n);void 0===i&&(i=t.readFileSync(n));const s=i;return{getText:(t,e)=>s.substring(t,e),getLength:()=>s.length,getChangeRange:()=>{}}}catch(t){return}},getScriptKind:t=>{switch(t.substr(t.lastIndexOf(".")+1)){case"ts":return l.a.ScriptKind.TS;case"tsx":return l.a.ScriptKind.TSX;case"js":return l.a.ScriptKind.JS;case"jsx":return l.a.ScriptKind.JSX;default:return n.allowJs?l.a.ScriptKind.JS:l.a.ScriptKind.TS}}});return l.a.createLanguageService(h)},u=t=>{t.forEach(t=>{t.file=void 0;const e=t.relatedInformation;void 0!==e&&e.forEach(t=>{t.file=void 0})})},m=t=>({ConvertTabsToSpaces:t.insertSpaces,TabSize:t.tabSize,IndentSize:t.tabSize,IndentStyle:l.a.IndentStyle.Smart,NewLineCharacter:"\n",InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}),d=t=>t?"\n\n"+t.map(t=>{if("example"===t.name&&t.text)return"*@".concat(t.name,"*\n")+"```typescript-internal\n"+t.text+"\n```\n";const e="*@".concat(t.name,"*");return t.text?e+(t.text.match(/\r\n|\n/g)?" \n"+t.text:" - ".concat(t.text)):e}).join("  \n\n"):"",f={includeCompletionsForModuleExports:!0,includeCompletionsWithInsertText:!0},y={convertTabsToSpaces:!0,tabSize:2,indentSize:2,indentStyle:l.a.IndentStyle.Smart,newLineCharacter:"\n",insertSpaceAfterCommaDelimiter:!0,insertSpaceAfterSemicolonInForStatements:!0,insertSpaceBeforeAndAfterBinaryOperators:!0,insertSpaceAfterKeywordsInControlFlowStatements:!0,insertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,placeOpenBraceOnNewLineForControlBlocks:!1,placeOpenBraceOnNewLineForFunctions:!1},F=new Set([".",'"',"'","`","/","@","<"]);class A{constructor({id:t,endpoint:e,isSmartContract:n,compilerOptions:i,fileNames:s}){this.getSyntacticDiagnostics=(t,e)=>this.languageService.then(n=>this.withTmpFS(e,()=>{const e=n.getSyntacticDiagnostics(t);return u(e),e.map(t=>Object.assign(Object.assign({},t),{message:l.a.flattenDiagnosticMessageText(t.messageText,"\n")}))})),this.getSemanticDiagnostics=(t,e)=>Promise.all([this.fs,this.languageService]).then(([n,i])=>this.withTmpFS(e,()=>{const e=this.isSmartContract?Object(o.getSemanticDiagnostics)(t,i,Object(r.a)({fs:n})):i.getSemanticDiagnostics(t);return u(e),e.map(t=>Object.assign(Object.assign({},t),{message:l.a.flattenDiagnosticMessageText(t.messageText,"\n")}))})),this.getCompilerOptionsDiagnostics=t=>this.languageService.then(t=>{const e=t.getCompilerOptionsDiagnostics();return u(e),e}),this.getCompletionsAtPosition=(t,e,n,i)=>this.languageService.then(s=>this.withTmpFS(i,()=>{let i;return void 0!==n&&F.has(n)&&(i=n),s.getCompletionsAtPosition(t,e,Object.assign(Object.assign({},f),{triggerCharacter:i}))})),this.getCompletionEntryDetails=(t,e,n,i=y,s)=>this.languageService.then(a=>a.getCompletionEntryDetails(t,e,n,i,s,f)),this.parseCompletionEntryDetails=async(t,e,n,i=y,s)=>{const a=await this.getCompletionEntryDetails(t,e,n,i,s);if(a)return{contents:l.a.displayPartsToString(a.displayParts),documentation:l.a.displayPartsToString(a.documentation),tags:d(a.tags),name:a.name,kind:a.kind,codeActions:a.codeActions}},this.getCodeFixesAtPosition=(t,e,n,i,s)=>this.languageService.then(a=>this.withTmpFS(s,()=>a.getCodeFixesAtPosition(t,e,n,i,y,f))),this.getSignatureHelpItems=(t,e,n)=>this.languageService.then(i=>this.withTmpFS(n,()=>i.getSignatureHelpItems(t,e,void 0))),this.createSignatures=async(t,e,n)=>{const i=await this.getSignatureHelpItems(t,e,n);if(!i)return;const s=[];return i.items.forEach(t=>{const e={label:"",documentation:void 0,parameters:[]};e.label+=l.a.displayPartsToString(t.prefixDisplayParts),t.parameters.forEach((n,i,s)=>{const a=l.a.displayPartsToString(n.displayParts),r={label:a,documentation:{value:l.a.displayPartsToString(n.documentation)}};e.label+=a,e.parameters.push(r),i<s.length-1&&(e.label+=l.a.displayPartsToString(t.separatorDisplayParts))}),e.label+=l.a.displayPartsToString(t.suffixDisplayParts),s.push(e)}),{activeSignature:i.selectedItemIndex,activeParameter:i.argumentIndex,signatures:s}},this.getQuickInfoAtPosition=(t,e)=>this.languageService.then(n=>n.getQuickInfoAtPosition(t,e)),this.parseInfoAtPosition=async(t,e)=>{const n=await this.getQuickInfoAtPosition(t,e);if(n)return{textSpan:n.textSpan,tags:d(n.tags),documentation:l.a.displayPartsToString(n.documentation),contents:l.a.displayPartsToString(n.displayParts)}},this.getOccurrencesAtPosition=(t,e)=>this.languageService.then(n=>n.getOccurrencesAtPosition(t,e)),this.getDefinitionAtPosition=(t,e)=>this.languageService.then(n=>n.getDefinitionAtPosition(t,e)),this.getReferencesAtPosition=(t,e)=>this.languageService.then(n=>n.getReferencesAtPosition(t,e)),this.getNavigationBarItems=t=>this.languageService.then(e=>e.getNavigationBarItems(t)),this.getFormattingEditsForDocument=(t,e)=>this.languageService.then(n=>n.getFormattingEditsForDocument(t,e)),this.getFormattingEditsForRange=(t,e,n,i)=>{const s=m(i);return this.languageService.then(i=>i.getFormattingEditsForRange(t,e,n,s))},this.getFormattingEditsAfterKeystroke=(t,e,n,i)=>{const s=m(i);return this.languageService.then(i=>i.getFormattingEditsAfterKeystroke(t,e,n,s))},this.getEmitOutput=t=>this.languageService.then(e=>e.getEmitOutput(t)),this.fs=Object(p.a)(t,e),this.tmpFS=new Map,this.languageService=this.fs.then(t=>h(t,s,i,n,this.tmpFS)),this.isSmartContract=n}withTmpFS(t,e){this.tmpFS.clear(),Object.entries(t).forEach(([t,e])=>{this.tmpFS.set(t,e)});try{return e()}finally{this.tmpFS.clear()}}}},1969:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(210);const s=async(t,e)=>Object(i.createPouchDBFileSystem)((t=>"".concat(t,"-fs"))(t),e)}});
//# sourceMappingURL=workers.19.592e9a5c.js.map